# Design Review Summary: Autogenerated Images Integration

## Overview

This document summarizes the design and implementation plan for automatically embedding autogenerated screenshots from openadapt-viewer into the openadapt-web landing page.

## Problem Statement

OpenAdapt has a comprehensive screenshot autogeneration system in openadapt-viewer that can capture various viewer states (capture, segmentation, benchmark). We want these screenshots to be automatically embedded in the landing page to showcase the visualization tools.

## Solution: Phased Approach

### Phase 1: MVP (Recommended for Immediate Implementation)

**Strategy**: Direct commit to repo

**How it works**:
1. Generate screenshots in openadapt-viewer using `generate_for_web.sh`
2. Copy screenshots to `openadapt-web/public/images/screenshots/`
3. Display using `ViewerShowcase` React component
4. Commit via PR and deploy through Vercel

**Pros**:
- Simple, no external dependencies
- Works with existing Vercel deployment
- Images versioned in git
- Fast page loads (CDN delivery)
- Easy to preview via PR

**Cons**:
- Manual/CI-triggered regeneration
- Increases repo size (mitigated by optimization)

**Timeline**: Can be implemented immediately (1 week)

### Phase 2: Enhanced Showcase (Month 2-3)

**Features**:
- Image carousel with multiple screenshots per viewer
- Lightbox for full-screen viewing
- Filtering by viewer type
- Interactive captions and links

### Phase 3: Community Gallery (Long-term)

**Features**:
- User-uploaded recordings
- Automatic screenshot generation
- Moderation system
- S3/CDN storage
- Search and discovery

**Storage**: External (S3 + CloudFront)

## Files Created

### Documentation

1. **AUTOGENERATED_IMAGES.md** (`/Users/abrichr/oa/src/openadapt-web/`)
   - Comprehensive design document
   - Architecture options comparison
   - Phase-by-phase implementation plan
   - File size optimization strategies
   - Testing strategy
   - Maintenance plan
   - Risk mitigation

2. **IMPLEMENTATION_GUIDE.md** (`/Users/abrichr/oa/src/openadapt-web/`)
   - Step-by-step implementation instructions
   - Quick start (5 minutes)
   - Detailed phase-by-phase guide
   - Troubleshooting section
   - Testing checklist
   - Advanced configuration

3. **DESIGN_REVIEW_SUMMARY.md** (this file)
   - High-level overview
   - Files created
   - Next steps

### Scripts

4. **generate_for_web.sh** (`/Users/abrichr/oa/src/openadapt-viewer/scripts/`)
   - Bash script to generate screenshots
   - Copies to openadapt-web directory
   - Generates metadata
   - Provides next-step instructions
   - Colorized output with progress tracking

### Components

5. **ViewerShowcase.js** (`/Users/abrichr/oa/src/openadapt-web/components/`)
   - React component for displaying viewer screenshots
   - 3-card grid layout (capture, segmentation, benchmark)
   - Responsive design
   - Error handling with placeholders
   - Accessibility features

6. **ViewerShowcase.module.css** (`/Users/abrichr/oa/src/openadapt-web/components/`)
   - Styles for ViewerShowcase component
   - Dark theme matching landing page
   - Hover effects and animations
   - Responsive breakpoints
   - Loading animations

### CI/CD

7. **github-workflows-template.yml** (`/Users/abrichr/oa/src/openadapt-web/`)
   - GitHub Actions workflow template
   - Automated screenshot generation
   - Cross-repo integration
   - PR creation with detailed summary
   - Scheduled weekly runs

## Key Design Decisions

### 1. Storage Strategy: Direct Commit (MVP)

**Decision**: Commit screenshots directly to openadapt-web repository

**Rationale**:
- Simplest implementation
- Leverages existing Vercel deployment
- No external dependencies
- Fast delivery via CDN
- Easy rollback if needed

**Trade-offs**:
- Repo size increases (acceptable with optimization)
- Manual regeneration (automated in Phase 2)

### 2. Component Architecture: Self-Contained

**Decision**: Create standalone ViewerShowcase component

**Rationale**:
- Reusable and modular
- Easy to test and maintain
- Can be placed anywhere on landing page
- Graceful error handling

### 3. Screenshot Selection: Quality Over Quantity

**Decision**: Show 1-3 best screenshots per viewer (desktop only for MVP)

**Rationale**:
- Faster page loads
- Reduced repo size
- Better user experience (less overwhelming)
- Can expand in Phase 2

### 4. Automation: Manual First, Automated Later

**Decision**: Manual regeneration for MVP, CI/CD in Phase 2

**Rationale**:
- Faster initial deployment
- Learn what works before automating
- Reduces complexity
- Still provides value

## Implementation Status

### âœ… Completed

- [x] Design document (AUTOGENERATED_IMAGES.md)
- [x] Implementation guide (IMPLEMENTATION_GUIDE.md)
- [x] Screenshot generation script (generate_for_web.sh)
- [x] ViewerShowcase React component
- [x] Component styles (CSS module)
- [x] GitHub Actions workflow template

### ðŸ”„ Ready to Implement

- [ ] Generate initial screenshots
- [ ] Add ViewerShowcase to landing page
- [ ] Test locally
- [ ] Create PR
- [ ] Deploy to production

### ðŸ“… Future Phases

- [ ] Set up GitHub Actions automation
- [ ] Add image carousel
- [ ] Implement lightbox
- [ ] Plan community gallery

## Technical Specifications

### Screenshot Requirements

- **Format**: PNG (optimized)
- **Max Size**: 200 KB per image
- **Resolution**: 1400x900 (desktop)
- **Count**: 3-5 images for MVP
- **Total Size**: ~1-2 MB

### Component Features

- **Responsive**: Mobile, tablet, desktop
- **Accessibility**: Alt text, keyboard navigation
- **Performance**: Lazy loading, Next.js optimization
- **Error Handling**: Graceful fallback for missing images

### Directory Structure

```
openadapt-web/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ images/
â”‚       â””â”€â”€ screenshots/
â”‚           â”œâ”€â”€ capture/
â”‚           â”‚   â””â”€â”€ turn-off-nightshift_full.png
â”‚           â”œâ”€â”€ segmentation/
â”‚           â”‚   â””â”€â”€ 02_episodes_loaded.png
â”‚           â”œâ”€â”€ benchmark/
â”‚           â”‚   â””â”€â”€ summary.png
â”‚           â””â”€â”€ README.md (metadata)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ViewerShowcase.js
â”‚   â””â”€â”€ ViewerShowcase.module.css
â””â”€â”€ pages/
    â””â”€â”€ index.js (modified)
```

## Testing Strategy

### Local Testing

1. Screenshot generation works
2. Images copy correctly
3. Component renders properly
4. Responsive design works
5. No console errors

### Deployment Testing

1. Vercel preview builds successfully
2. Images load from CDN
3. Page load time < 3 seconds
4. Lighthouse score maintained
5. No broken images

### Automated Testing

- Cypress tests for image loading
- Lighthouse CI for performance
- Visual regression tests (future)

## Risks and Mitigations

### Risk: Repo Size Growth

**Mitigation**:
- Optimize all images before commit
- Desktop-only screenshots
- Monitor repo size monthly
- Consider Git LFS if needed (>50 MB)

### Risk: Stale Screenshots

**Mitigation**:
- Automated weekly regeneration (Phase 2)
- Date stamps in metadata
- Alerts on generation failures

### Risk: Slow Page Loads

**Mitigation**:
- Next.js image optimization
- Lazy loading
- CDN delivery (Vercel)
- WebP conversion for supported browsers

## Success Metrics

### MVP Success (Week 1)

- [ ] Screenshots on landing page
- [ ] Page load time < 3 seconds
- [ ] No broken images
- [ ] Vercel deployment successful

### Enhanced Showcase (Month 2-3)

- [ ] Image carousel working
- [ ] User engagement metrics improved
- [ ] Time on page increased

### Community Gallery (Month 4-6)

- [ ] 100+ user submissions
- [ ] Moderation workflow established
- [ ] Search and discovery working

## Resource Requirements

### Time Estimate

- **MVP Implementation**: 1 week (5-10 hours)
  - Day 1-2: Generate and test screenshots
  - Day 3-4: Integrate component
  - Day 5: Testing and deployment

- **Phase 2 (Automation)**: 1 week
- **Phase 3 (Community Gallery)**: 1-2 months

### Infrastructure

- **MVP**: No additional infrastructure (Vercel handles everything)
- **Phase 3**: AWS S3 + CloudFront (~$10-50/month depending on usage)

### Dependencies

- openadapt-viewer with Playwright
- Next.js and React
- Vercel deployment
- GitHub Actions (for automation)

## Next Steps

### Immediate (Today)

1. Review design documents
2. Test `generate_for_web.sh` script
3. Generate initial screenshots

### This Week

1. Add ViewerShowcase component to landing page
2. Test locally
3. Create PR with screenshots
4. Deploy to production

### Next Sprint

1. Set up GitHub Actions workflow
2. Test automated regeneration
3. Document process for team

### Future

1. Enhanced showcase with carousel
2. Community gallery planning
3. Integration with docs.openadapt.ai

## Questions for Review

1. **Screenshot Selection**: Which screenshots are most compelling?
   - Recommendation: Full viewer showing complete functionality

2. **Regeneration Frequency**: How often should we regenerate?
   - Recommendation: Weekly automated + on-demand for releases

3. **Mobile Screenshots**: Should we show mobile views?
   - Recommendation: Desktop only for MVP

4. **Video Demos**: Keep existing demo.mp4?
   - Recommendation: Yes, screenshots supplement video

5. **Interactive Features**: Click to open live viewer?
   - Recommendation: Phase 2 feature

## Related Documentation

- [openadapt-viewer/docs/SCREENSHOT_GENERATION.md](../openadapt-viewer/docs/SCREENSHOT_GENERATION.md)
- [openadapt-viewer/CLAUDE.md](../openadapt-viewer/CLAUDE.md)
- [openadapt-web/CLAUDE.md](./CLAUDE.md)

## Conclusion

This design provides a practical, implementable solution for automatically embedding viewer screenshots on the landing page. The phased approach allows us to:

1. **Deliver value quickly** (MVP in 1 week)
2. **Learn and iterate** (feedback from Phase 1)
3. **Scale progressively** (automation, then community gallery)

The MVP is ready to implement with all necessary files created. Next step is to generate screenshots and create a PR.

---

**Created**: 2026-01-17
**Author**: Claude (Sonnet 4.5)
**Status**: Ready for Implementation
